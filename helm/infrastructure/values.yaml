# Global Configuration
global:
  domain: "4.185.235.181.nip.io"

# PostgreSQL Configuration
postgres:
  exposeExternal: false
  replicas: 1
  image:
    repository: postgres
    tag: "16"
    pullPolicy: IfNotPresent
  database: planify
  username: planify
  password: planify123
  port: 5432
  storage: 5Gi
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Kafka Configuration
kafka:
  replicas: 1
  image:
    repository: confluentinc/cp-kafka
    tag: "7.5.0"
    pullPolicy: IfNotPresent
  port: 9092
  brokerId: "1"
  offsetsTopicReplicationFactor: "1"

# Zookeeper Configuration
zookeeper:
  replicas: 1
  image:
    repository: confluentinc/cp-zookeeper
    tag: "7.5.0"
    pullPolicy: IfNotPresent
  clientPort: "2181"
  tickTime: "2000"

# Keycloak Configuration
keycloak:
  replicas: 1
  image:
    repository: quay.io/keycloak/keycloak
    tag: "24.0.1"
    pullPolicy: IfNotPresent
  adminUsername: admin
  adminPassword: admin
  port: 8080
  nodePort: 30080
  database:
    type: postgres
    schema: keycloak
  hostnameStrict: "false"
  httpEnabled: "true"
  httpRelativePath: "/keycloak"
  proxy: "edge"

# Prometheus Configuration
prometheus:
  enabled: true
  replicas: 1
  image:
    repository: prom/prometheus
    tag: "v2.48.0"
    pullPolicy: IfNotPresent
  port: 9090
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "250m"

# Grafana Configuration
grafana:
  enabled: true
  replicas: 1
  image:
    repository: grafana/grafana
    tag: "10.2.2"
    pullPolicy: IfNotPresent
  port: 3000
  adminUsername: admin
  adminPassword: admin
  resources:
    requests:
      memory: "128Mi"
      cpu: "50m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# Ingress Configuration
ingress:
  enabled: true
  className: nginx
  tlsSecretName: planify-tls-cert
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
    nginx.ingress.kubernetes.io/enable-cors: "true"
    nginx.ingress.kubernetes.io/cors-allow-methods: "GET, POST, PUT, DELETE, OPTIONS"
    nginx.ingress.kubernetes.io/cors-allow-origin: "*"
    nginx.ingress.kubernetes.io/cors-allow-credentials: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-buffer-size: "16k"
    nginx.ingress.kubernetes.io/proxy-buffers-number: "4"